<%= form_with(model: task, local: true, class: "space-y-4") do |form| %>
  <% if task.errors.any? %>
    <div class="alert alert-error shadow-lg">
      <div>
        <span><%= pluralize(task.errors.count, "error") %> บางอย่างผิดพลาด:</span>
        <ul class="list-disc list-inside">
          <% task.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <div>
    <%= form.label :title, "หัวข้องาน", class: "label" %>
    <%= form.text_field :title, class: "input input-bordered w-full" %>
  </div>

  <div>
    <%= form.label :description, "รายละเอียด", class: "label" %>
    <%= form.text_area :description, rows: 3, class: "textarea textarea-bordered w-full" %>
  </div>

  <div>
    <%= form.label :category, "หมวดหมู่งาน", style: "display: block" %>
    <%= form.text_field :category, class: "input input-bordered w-full" %>
  </div>

  <div class="flex flex-col md:flex-row gap-4">
    <div class="flex-1">
      <%= form.label :assigned_at, "วันที่ได้รับงาน", class: "label" %>
      <%= form.datetime_local_field :assigned_at, class: "input input-bordered w-full" %>
    </div>
    <div class="flex-1">
      <%= form.label :deadline, "เดตไลน์ (ถ้ามี)", class: "label" %>
      <%= form.datetime_local_field :deadline, class: "input input-bordered w-full" %>
    </div>
  </div>

  <div class="flex items-center gap-2">
    <%= form.check_box :done, class: "checkbox checkbox-primary" %>
    <%= form.label :done, "ทำเสร็จแล้ว", class: "label" %>
  </div>

  <div class="mt-6 text-center">
    <%= form.submit "บันทึกงาน", class: "btn btn-primary btn-wide" %>
  </div>
<% end %>
